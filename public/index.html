<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web APIs from Scratch</title>
</head>

<body>
    <form id="api-form">
        <div>
            <label for="first_name">First Name:</label>
            <input type="text" id="first_name">
        </div>
        <div>
            <label for="last_name">Last Name:</label>
            <input type="text" id="last_name">
        </div>
        <div>
            <label for="age">Age:</label>
            <input type="number" id="age">
        </div>

        <input type="submit" id="submit">
    </form>

    <script>
        document.getElementById('api-form').onsubmit = async (e) => {
            e.preventDefault();

            const response = await fetch('/api/users', {
                method: 'POST',
                body: {
                    name: document.getElementById('first_name').value,
                    last_name: document.getElementById('last_name').value,
                    age: document.getElementById('age').value,
                },
            });

            if (response.status === 201) {
                alert('The user has been added successfully.');
            } else {
                alert('An error occurred.');
            }
        }
    </script>
</body>

</html>
